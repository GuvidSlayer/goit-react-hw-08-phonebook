"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[46],{46:(e,n,t)=>{t.r(n),t.d(n,{default:()=>g});t(791);var r=t(603),s=t(705),a=t(7),i=t(184);const l={name:"",number:""},d=a.Ry().shape({name:a.Z_().matches("^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$","Name must be a string").min(3,"Too short, minimum length: 3").max(20,"Too long, maximum length: 20").required(),number:a.Rx().typeError().moreThan(12).required()}),o=()=>{const{data:e}=(0,r.wY)(),[n,{isLoading:t}]=(0,r.Tn)(),a=(0,s.TA)({initialValues:l,onSubmit:(t,r)=>{let{resetForm:s}=r;var a,i;a=e,i=t.name,(!a.some((e=>{let{name:n}=e;return n===i}))||(alert(`${i} is already in contacts`),0))&&(n({name:t.name.trim(),number:t.number.trim()}),s())},validationSchema:d}),o=!(a.isValid&&a.dirty);return(0,i.jsxs)("form",{onSubmit:a.handleSubmit,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{autoComplete:"off",placeholder:"Name",type:"text",name:"name",onChange:a.handleChange,value:a.values.name,required:!0}),a.errors.name&&a.touched.name?(0,i.jsx)("span",{children:a.errors.name}):null]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{autoComplete:"off",placeholder:"Phone",type:"tel",name:"number",onChange:a.handleChange,value:a.values.number}),a.errors.number&&a.touched.number?(0,i.jsx)("span",{children:a.errors.number}):null]}),(0,i.jsx)("center",{children:(0,i.jsx)("button",{type:"submit",disabled:o,children:t?"Adding contact...":"Add contact"})})]})},c=e=>e.filter;var h=t(420);const m="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";const u=()=>{const e=(0,h.v9)(c),{data:n,isLoading:t}=(0,r.wY)(),s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").toLowerCase();return e.filter((e=>{let{name:t,number:r}=e;return t.toLowerCase().includes(n)||r.includes(n)}))}(n,e),[a]=(0,r.Nt)();return t?(0,i.jsx)("h2",{style:{textAlign:"center"},children:"loading..."}):(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)("h2",{children:"loading..."}),(0,i.jsxs)("table",{style:{marginTop:"20px"},children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Contact name"}),(0,i.jsx)("th",{children:"Phone number"}),(0,i.jsx)("th",{children:"Action"})]})}),(0,i.jsx)("tbody",{children:s.map((e=>{let{id:n,name:t,number:r}=e;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:t}),(0,i.jsx)("td",{children:r}),(0,i.jsx)("td",{children:(0,i.jsx)("button",{onClick:()=>(e=>{a(e)})(n),children:"Delete"})})]},function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,n="",t=crypto.getRandomValues(new Uint8Array(e));for(;e--;)n+=m[63&t[e]];return n}())}))})]})]})};var x=t(808);const j=()=>{const e=(0,h.v9)(c),n=(0,h.I0)();return(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,i.jsx)("span",{children:"Find your contact"}),(0,i.jsx)("input",{type:"text",name:"filter",value:e,onChange:e=>{n((0,x.T)(e.target.value))}})]})},p=()=>{const{data:e=[],isFetching:n}=(0,r.wY)();return e.length<=0?(0,i.jsx)("div",{style:{width:"45%",border:"none"},children:(0,i.jsx)("h2",{children:"Please, add first contact"})}):(0,i.jsxs)("div",{style:{minWidth:"600px",maxWidth:"45%"},children:[(0,i.jsxs)("div",{style:{width:"100%",padding:"20px",display:"flex",justifyContent:"center",alignItems:"center",gap:"30px"},children:[(0,i.jsx)("h2",{children:"Contacts"}),(0,i.jsxs)("div",{children:[e.length," contacts total"]}),n&&(0,i.jsx)("div",{style:{color:"grey",position:"absolute",right:"50%",transform:"translate(50%,30%)"},children:"Loading..."})]}),(0,i.jsx)(j,{}),(0,i.jsx)(u,{})]})},g=()=>(0,i.jsx)("section",{children:(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",backgroundColor:"rgba(255, 255, 255, 0.5)"},children:[(0,i.jsx)(o,{}),(0,i.jsx)(p,{})]})})}}]);
//# sourceMappingURL=46.34946472.chunk.js.map