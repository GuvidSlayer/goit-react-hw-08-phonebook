{"version":3,"file":"static/js/46.34946472.chunk.js","mappings":"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","sources":["components/ContactForm/ContactForm.jsx","redux/contacts/selectors.js","../node_modules/nanoid/url-alphabet/index.js","components/ContactList/ContactList.jsx","../node_modules/nanoid/index.browser.js","components/Filter/Filter.jsx","components/Contacts/Contacts.jsx","pages/ContactsApp.js"],"sourcesContent":["import {\n  useAddContactMutation,\n  useGetContactsQuery,\n} from '../../redux/contacts/contactsSlice.js';\nimport { useFormik } from 'formik';\nimport * as yup from 'yup';\nimport React from 'react';\n\nconst ContactForm = () => {\n  const { data } = useGetContactsQuery();\n  const [addContact, { isLoading }] = useAddContactMutation();\n\n  const isNewName = (contacts, contactName) => {\n    if (contacts.some(({ name }) => name === contactName)) {\n      alert(`${contactName} is already in contacts`);\n      return false;\n    }\n    return true;\n  };\n\n  const formik = useFormik({\n    initialValues,\n    onSubmit: (values, { resetForm }) => {\n      if (isNewName(data, values.name)) {\n        addContact({ name: values.name.trim(), number: values.number.trim() });\n        resetForm();\n      }\n    },\n    validationSchema: schema,\n  });\n\n  const isDisabled = !(formik.isValid && formik.dirty);\n\n  return (\n    <form onSubmit={formik.handleSubmit}>\n      <div>\n        <input\n          autoComplete=\"off\"\n          placeholder=\"Name\"\n          type=\"text\"\n          name=\"name\"\n          onChange={formik.handleChange}\n          value={formik.values.name}\n          required\n        />\n        {formik.errors.name && formik.touched.name ? (\n          <span>{formik.errors.name}</span>\n        ) : null}\n      </div>\n      <div>\n        <input\n          autoComplete=\"off\"\n          placeholder=\"Phone\"\n          type=\"tel\"\n          name=\"number\"\n          onChange={formik.handleChange}\n          value={formik.values.number}\n        />\n        {formik.errors.number && formik.touched.number ? (\n          <span>{formik.errors.number}</span>\n        ) : null}\n      </div>\n      <center>\n        <button type=\"submit\" disabled={isDisabled}>\n          {isLoading ? 'Adding contact...' : 'Add contact'}\n        </button>\n      </center>\n    </form>\n  );\n};\n\nconst pattern = {\n  str: \"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\",\n  number: '+?d{1,4}?[-.s]?(?d{1,3}?)?[-.s]?d{1,4}[-.s]?d{1,4}[-.s]?d{1,9}',\n};\n\nconst initialValues = {\n  name: '',\n  number: '',\n};\n\nconst schema = yup.object().shape({\n  name: yup\n    .string()\n    .matches(pattern.str, 'Name must be a string')\n    .min(3, 'Too short, minimum length: 3')\n    .max(20, 'Too long, maximum length: 20')\n    .required(),\n  number: yup.number().typeError().moreThan(12).required(),\n});\n\nexport default ContactForm;\n","export const selectFilter = state => state.filter;\nexport const selectContacts = state => state.contacts.queries;\n","export const urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\n","import React from 'react';\nimport { selectFilter } from '../../redux/contacts/selectors.js';\nimport { useGetContactsQuery } from '../../redux/contacts/contactsSlice.js';\nimport { useSelector } from 'react-redux';\nimport { nanoid } from 'nanoid';\nimport { useDeleteContactMutation } from '../../redux/contacts/contactsSlice.js';\n\nconst contactsFiltration = (contacts = [], filter = '') => {\n  const normalizedFilter = filter.toLowerCase();\n\n  return contacts.filter(\n    ({ name, number }) =>\n      name.toLowerCase().includes(normalizedFilter) ||\n      number.includes(normalizedFilter)\n  );\n};\n\nconst ContactList = () => {\n  const filter = useSelector(selectFilter);\n  const { data, isLoading } = useGetContactsQuery();\n  const contacts = contactsFiltration(data, filter);\n  const [deleteContact] = useDeleteContactMutation();\n\n  const handleDelete = id => {\n    deleteContact(id);\n  };\n\n  if (isLoading) {\n    return <h2 style={{ textAlign: 'center' }}>loading...</h2>;\n  }\n\n  return (\n    <>\n      {isLoading && <h2>loading...</h2>}\n      <table style={{ marginTop: '20px' }}>\n        <thead>\n          <tr>\n            <th>Contact name</th>\n            <th>Phone number</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          {contacts.map(({ id, name, number }) => (\n            <tr key={nanoid()}>\n              <td>{name}</td>\n              <td>{number}</td>\n              <td>\n                <button onClick={() => handleDelete(id)}>Delete</button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </>\n  );\n};\n\nexport default ContactList;\n","import { urlAlphabet as scopedUrlAlphabet } from './url-alphabet/index.js'\nexport { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n  while (size--) {\n    id += scopedUrlAlphabet[bytes[size] & 63]\n  }\n  return id\n}\n","import { useDispatch, useSelector } from 'react-redux';\nimport { toFilter } from '../../redux/contacts/filterSlice.js';\nimport { selectFilter } from '../../redux/contacts/selectors.js';\n\nconst Filter = () => {\n  const filter = useSelector(selectFilter);\n  const dispatch = useDispatch();\n\n  const handelFilterChange = e => {\n    dispatch(toFilter(e.target.value));\n  };\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n      }}\n    >\n      <span>Find your contact</span>\n      <input\n        type=\"text\"\n        name=\"filter\"\n        value={filter}\n        onChange={handelFilterChange}\n      />\n    </div>\n  );\n};\n\nexport default Filter;\n","import { useGetContactsQuery } from '../../redux/contacts/contactsSlice.js';\nimport ContactList from '../ContactList/ContactList.jsx';\nimport Filter from '../Filter/Filter.jsx';\n\nconst Contacts = () => {\n  const { data = [], isFetching } = useGetContactsQuery();\n\n  if (data.length <= 0) {\n    return (\n      <div style={{ width: '45%', border: 'none' }}>\n        <h2>Please, add first contact</h2>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ minWidth: '600px', maxWidth: '45%' }}>\n      <div\n        style={{\n          width: '100%',\n          padding: '20px',\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          gap: '30px',\n        }}\n      >\n        <h2>Contacts</h2>\n        <div>{data.length} contacts total</div>\n        {isFetching && (\n          <div\n            style={{\n              color: 'grey',\n              position: 'absolute',\n              right: '50%',\n              transform: 'translate(50%,30%)',\n            }}\n          >\n            Loading...\n          </div>\n        )}\n      </div>\n      <Filter />\n      <ContactList />\n    </div>\n  );\n};\n\nexport default Contacts;\n","import React from 'react';\nimport ContactForm from '../components/ContactForm/ContactForm.jsx';\nimport Contacts from '../components/Contacts/Contacts.jsx';\n\nconst ContactsApp = () => {\n  return (\n    <section>\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'space-around',\n          backgroundColor: 'rgba(255, 255, 255, 0.5)',\n        }}\n      >\n        <ContactForm />\n        <Contacts />\n      </div>\n    </section>\n  );\n};\n\nexport default ContactsApp;\n"],"names":["initialValues","name","number","schema","yup","shape","matches","min","max","required","typeError","moreThan","ContactForm","data","useGetContactsQuery","addContact","isLoading","useAddContactMutation","formik","useFormik","onSubmit","values","_ref2","resetForm","isNewName","contacts","contactName","some","_ref","alert","trim","validationSchema","isDisabled","isValid","dirty","_jsxs","handleSubmit","children","_jsx","autoComplete","placeholder","type","onChange","handleChange","value","errors","touched","disabled","selectFilter","state","filter","urlAlphabet","ContactList","useSelector","arguments","length","undefined","normalizedFilter","toLowerCase","includes","contactsFiltration","deleteContact","useDeleteContactMutation","style","textAlign","_Fragment","marginTop","map","id","onClick","handleDelete","size","bytes","crypto","getRandomValues","Uint8Array","scopedUrlAlphabet","nanoid","Filter","dispatch","useDispatch","display","justifyContent","alignItems","e","toFilter","target","Contacts","isFetching","width","border","minWidth","maxWidth","padding","gap","color","position","right","transform","ContactsApp","backgroundColor"],"sourceRoot":""}